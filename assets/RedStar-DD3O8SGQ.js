import{d as g,i as E,z as B,o as R,c as I,h as C,f as i,e as u,u as T,T as L,t as k,L as J,U as N,V as O,s as A,v,W as P,_ as D,g as x,b as $,n as V,l as U,w as y,D as j,y as Y,r as H}from"./index-Cioaw4rK.js";import{V as S,o as z,s as b}from"./Data-D6LDXfHy.js";import{P as F}from"./Page-CIYyj60d.js";import{g as K}from"./globals-D0lvPSen.js";import{a as q}from"./ModulePage.vue_vue_type_script_setup_true_lang-WhaDAw9X.js";import{b as G}from"./byTypes-DiOuyN-I.js";import"./sec2str-D-KILobV.js";async function*W(t){for await(const a of t)yield*a}async function*Q(t,a){let s="";for await(const n of t)n===a?(yield s,s=""):s+=n;yield s}const X=(t,a)=>Q(W(t),a),Z=t=>X(t,`
`);async function*tt(t){for await(const a of t){const s=a.trim();s&&(yield s)}}const et=/^[| -]+$/;async function*st(t,a){const{leftBound:s,rightBound:n}=a;for await(const o of t){const e=o.trim();if(et.test(e))continue;const r=e.split("|").map(l=>l.trim());if(s&&r.shift()!=="")throw new SyntaxError("Inconsistent left bound");if(n&&r.pop()!=="")throw new SyntaxError("Inconsistent right bound");yield r}}class at{constructor(a,s){this.headers=a,this.rows=s}}async function ot(t){const a=tt(Z(t)),s=await a.next();if(s.done)throw new SyntaxError("Text is empty");const n=s.value.split("|").map(l=>l.trim()),o=n[0]==="",e=n[n.length-1]==="";o&&n.shift(),e&&n.pop();const r=st(a,{leftBound:o,rightBound:e});return new at(n,r)}const nt=t=>(A("data-v-5a14ab43"),t=t(),v(),t),rt={class:"info-banner"},it=nt(()=>i("div",null,[i("img",{src:P,alt:"info icon"})],-1)),ct=["href"],lt=g({__name:"CommunityTable",props:{fileName:{}},setup(t){const a=E(),s=t;return B(async()=>{const n=await mt(`../../community/tables/${s.fileName}.md`).then(r=>fetch(r.default)).then(r=>r.text()),o=await ot(n),e={};for(const r of o.headers)e[r]=[];for await(const r of o.rows)o.headers.forEach((l,p)=>{if(p==0)return;const d=r[p],f=parseInt(d);e[l].push(isNaN(f)?d:f)});a.value={Name:s.fileName,...e}}),(n,o)=>{const e=N("i18n-t");return a.value?(R(),I(S,{key:0,data:a.value},{default:C(()=>[i("div",rt,[it,u(e,{keypath:"COMMUNITY_CONTENT",tag:"p",for:"here"},{default:C(()=>[i("a",{href:`${T(L)}/tree/master/community/tables/${s.fileName}.md`,target:"_blank"},k(n.$t("HERE")),9,ct)]),_:1})])]),_:1},8,["data"])):J("",!0)}}});function mt(t){switch(t){case"../../community/tables/artifacts":case"../../community/tables/artifacts.md":return O(()=>import("./artifacts-Dadz53Bi.js"),[],import.meta.url);default:return new Promise(function(a,s){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const _t=D(lt,[["__scopeId","data-v-5a14ab43"]]),pt=""+new URL("portrait_DyingPlanet-B6_7HxyA.jpg",import.meta.url).href,ut=t=>(A("data-v-e48eba47"),t=t(),v(),t),dt={id:"Artifacts",class:"topic"},ft={href:"#Artifacts",class:"art-title"},ht={id:"ModulesByArtType"},Tt={class:"switch"},yt={class:"name"},Ct={class:"description"},St=["checked"],wt=ut(()=>i("label",{for:"compact-mode",class:"label"},null,-1)),bt={__name:"RedStar",setup(t){const a=j(),{t:s}=x(),{MinDarkRSLevel:n}=K,{RedStar:o}=b,{DarkRedStar:e}=b,r=["GhostSpawnSecs","Models","LowerPlanetsMinLevel","MaxPlanetBomberCoverage","MaxPlanetBomberCoverage","GhostSpawner","NumLowerPlanets","MedRiskMining","HighRiskMining"],l=o.AppearanceModels.length-1;r.forEach(c=>{delete o[c],delete e[c]}),s("TID_DARK_RED_STAR_LABEL"),e.TID="TID_DARK_RED_STAR_LABEL",e.TID_Description="TID_JOIN_DARK_RED_STAR_INFO","JumpCosts_T"in o&&(o.JumpShips={JumpCostTransport:[...o.JumpCosts_T],JumpCostMiner:[...o.JumpCosts_M],JumpCostBattleship:[...o.JumpCosts_B]},delete o.JumpCosts_T,delete o.JumpCosts_M,delete o.JumpCosts_B),"JumpCosts_T"in e&&(e.JumpShips={JumpCostTransport:[...e.JumpCosts_T],JumpCostMiner:[...e.JumpCosts_M],JumpCostBattleship:[...e.JumpCosts_B]},delete e.JumpCosts_T,delete e.JumpCosts_M,delete e.JumpCosts_B);const p={RedStar:{RedStar:o},DarkRedStar:z(e,{map:([c,m])=>[c,Array.isArray(m)?m.slice(n):m]})},d=Object.fromEntries(G.artifact.map(c=>[c,f(q(c))]));function f(c){const m=[];for(let _=0;_<l;_++){const w=Object.values(c).map(h=>{if(h.RSLevel==_+1)return h}).filter(h=>h!=null);m.push(w.length?w:null)}return m}function M(){a.commit(Y.SWITCH_COMPACT_MODULES_BY_ART_TYPE_TABLE)}return(c,m)=>{const _=H("t");return R(),$("div",null,[u(F,{"title-loc-key":"TID_RED_STAR","content-args":{data:p.RedStar,iconDir:"game/Stars",tableOpts:{colLvlStartAt:0}},portrait:{src:T(pt),alt:"RedStar"}},null,8,["content-args","portrait"]),u(S,V(U({data:p.DarkRedStar,iconDir:"game/Stars",tableOpts:{colLvlStartAt:T(n)}})),null,16),i("h1",dt,[y(i("a",ft,null,512),[[_,"TID_OBJECT_ACTION_ARTIFACTS"]])]),u(_t,{"file-name":"artifacts"}),i("div",ht,[u(S,{data:{TID:"MODULES_BY_ARTIFACT_TYPE",Name:"ModulesByArtType",...T(d)}},{default:C(()=>[i("div",Tt,[i("div",null,[y(i("p",yt,null,512),[[_,"COMPACT_MODE"]]),y(i("p",Ct,null,512),[[_,"COMPACT_MODE_NOTE"]])]),i("input",{id:"compact-mode",class:"checkbox",type:"checkbox",checked:c.$store.state.userSettings.compactModulesByArtTypeTable,onChange:M},null,40,St),wt])]),_:1},8,["data"])])])}}},Bt=D(bt,[["__scopeId","data-v-e48eba47"]]);export{Bt as default};
